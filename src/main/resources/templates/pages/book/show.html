<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/head :: head">
    <title id="pageTitle">View Book | Yearbook</title>
</head>
<body>

<!-- header -------------------------------- -->
<header th:insert="fragments/header :: header"></header>

<!-- #largeViewHeader -------------------------------- -->
<div class="grid-wrapper" id="largeViewHeader">
    <div class="grid-container full">
        <div class="grid-x grid-padding-x grid-margin-x align-middle" style="background-image: url('https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=80')">
            <div class="cell shrink" id="viewHeaderInner">
                <h1 th:text="${bookViewModel.getTitle()}"></h1>
                <p th:text="${bookViewModel.getDescription()}"></p>
                <a th:href="@{/book/{id}/editGeneral(id=${bookViewModel.getId()})}"><button class="button">Edit General information</button></a>
            </div>
        </div>
    </div>
</div>

<!-- #questions -------------------------------- -->
<div class="grid-wrapper">
    <div class="grid-container">
        <table>
            <thead>
            <tr>
                <th width="40">#</th>
                <th width="400">Question</th>
                <th width="40">
                    <a th:href="@{/book/{id}/editQuestions(id=${bookViewModel.getId()}, isInCreationProcess=false)}">
                        <button class="button">Edit Questions</button>
                    </a>

                </th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="question, itemStat : ${questions}">
                <td th:text="${itemStat.index + 1} + '.'"></td>
                <td th:text="${question}"></td>
                <td></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


<!-- #participations -------------------------------- -->
<div class="grid-wrapper" id="questionnairesWrapper">
    <div class="grid-container">
        <a th:href="@{/book/{id}/editParticipants(isInCreationProcess=false, id=${bookViewModel.getId()})}"><button class="button">Edit Participants</button></a>
        <div class="grid-x grid-margin-x">
            <div class="cell small-12 medium-6 questionnaireCard" th:each="participationViewModel : ${participationViewModels}">
                <img src="https://via.placeholder.com/300x150.webp?text=Profilpic" alt="Profil Pic">
                <div class="cardContent">
                    <p th:if="${participationViewModel.isOwner}" class="badge">Owner</p>
                    <h4 th:text="${participationViewModel.getUserViewModel().getName()}"></h4>
                    <a class="inlineButton" th:href="@{/questionnaire/{id}(id=${1})}">View Questionnaire</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- footer -------------------------------- -->
<footer class="grid-wrapper" th:insert="fragments/footer :: footer"></footer>
</body>
</html>